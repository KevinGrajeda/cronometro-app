(this.webpackJsonpcronometro=this.webpackJsonpcronometro||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(7),r=a.n(o),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(13);var u=a(2),l=a(3),m=a(1),p=a(5),h=a(4),d=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={touch:!1},e.play=e.play.bind(Object(m.a)(e)),e.iniciarAnimacion=e.iniciarAnimacion.bind(Object(m.a)(e)),e}return Object(l.a)(a,[{key:"play",value:function(e){e.preventDefault(),this.setState({touch:!1}),this.props.iniciar()}},{key:"iniciarAnimacion",value:function(e){this.setState({touch:!0})}},{key:"render",value:function(){var e=this,t=this.props.tiempo.ms,a=this.props.tiempo.segundos,n=this.props.tiempo.minutos,o=this.props.tiempo.horas,r="contador"+(this.props.pausa&&this.props.iniciado?" pausa":""),s="contenedor-circulo"+(o>0?" smaller":o>0||n>0||a>58?" small":"")+(this.props.vueltas>0?" arriba":"");return i.a.createElement("div",{className:s},i.a.createElement("div",{className:this.state.touch?"circulo animacion":"circulo",onTouchStart:this.iniciarAnimacion,onMouseDown:this.iniciarAnimacion,onTouchEnd:function(t){return e.play(t)},onMouseUp:function(t){return e.play(t)}},i.a.createElement("div",{className:r},i.a.createElement("span",null,o>0?o+":":""),i.a.createElement("span",null,o>0?n>=10?n+":":"0"+n+":":n>0?n+":":""),i.a.createElement("span",null,n>0||o>0?a>=10?a:"0"+a:a),i.a.createElement("span",{className:"ms"},t>=10?t:"0"+t))))}}]),a}(i.a.Component),v=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={touch:0},e.vuelta=e.vuelta.bind(Object(m.a)(e)),e.play=e.play.bind(Object(m.a)(e)),e.detener=e.detener.bind(Object(m.a)(e)),e.iniciarAnimacion=e.iniciarAnimacion.bind(Object(m.a)(e)),e}return Object(l.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.iniciado!==e.iniciado||this.props.pausa!==e.pausa||this.state!==t}},{key:"vuelta",value:function(e){e.preventDefault(),this.setState({touch:0}),this.props.vuelta()}},{key:"play",value:function(e){e.preventDefault(),this.setState({touch:0}),this.props.iniciar()}},{key:"detener",value:function(e){e.preventDefault(),this.setState({touch:0}),this.props.detener()}},{key:"iniciarAnimacion",value:function(e){this.setState({touch:e})}},{key:"render",value:function(){var e=this,t=(2===this.state.touch?"boton animacion-boton":"boton")+(this.props.iniciado?" ":""),a="boton stop"+(1===this.state.touch?" animacion-boton":"")+(this.props.iniciado?" izquierda":""),n="boton vuelta"+(3===this.state.touch?" animacion-boton":"")+(this.props.iniciado?" derecha":"")+(this.props.pausa?" transparente":""),o="contenedor-botones"+(this.props.vueltas>0?" abajo":"");return i.a.createElement("div",{className:o},i.a.createElement("button",{className:a,"aria-label":"detener",onTouchStart:function(t){return e.iniciarAnimacion(1)},onMouseDown:function(t){return e.iniciarAnimacion(1)},onTouchEnd:function(t){return e.detener(t)},onMouseUp:function(t){return e.detener(t)}},i.a.createElement("i",{className:"fas fa-stop"})),i.a.createElement("button",{className:t,"aria-label":"iniciar",onTouchStart:function(t){return e.iniciarAnimacion(2)},onMouseDown:function(t){return e.iniciarAnimacion(2)},onTouchEnd:function(t){return e.play(t)},onMouseUp:function(t){return e.play(t)}},this.props.pausa?i.a.createElement("i",{className:"fas fa-play"}):i.a.createElement("i",{className:"fas fa-pause"})),i.a.createElement("button",{className:n,"aria-label":"vuelta",onTouchStart:function(t){return e.iniciarAnimacion(3)},onMouseDown:function(t){return e.iniciarAnimacion(3)},onTouchEnd:function(t){return e.vuelta(t)},onMouseUp:function(t){return e.vuelta(t)}},i.a.createElement("i",{className:"fas fa-undo-alt"})))}}]),a}(i.a.Component),f=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={},e}return Object(l.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.vueltas!==e.vueltas}},{key:"imprimirHora",value:function(e,t,a,n){return t=t<10?"0"+t:t,a=a<10?"0"+a:a,n=n<10?"0"+n:n,"".concat(e=e>0?e+"h":""," ").concat(t," ").concat(a,".").concat(n)}},{key:"render",value:function(){var e=this,t=this.props.vueltas.map((function(t,a){return i.a.createElement("li",{key:a+1},i.a.createElement("span",{className:"numero-vuelta"},"Vuelta ",a+1,"\xa0\xa0\xa0"),e.imprimirHora(t.previo.horas,t.previo.minutos,t.previo.segundos,t.previo.ms),"\xa0\xa0\xa0",e.imprimirHora(t.actual.horas,t.actual.minutos,t.actual.segundos,t.actual.ms))})).reverse();return i.a.createElement("div",{className:"contenedor-vueltas"},i.a.createElement("ul",null,t))}}]),a}(i.a.Component),b=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={milisegundos:0,msPrev:0,segundos:0,idTimer:null,inicio:null,iniciado:!1,play:!1,pausa:!0,vueltas:[],msVueltaAnterior:0},e.iniciar=e.iniciar.bind(Object(m.a)(e)),e.contar=e.contar.bind(Object(m.a)(e)),e.detener=e.detener.bind(Object(m.a)(e)),e.vuelta=e.vuelta.bind(Object(m.a)(e)),e.space=e.space.bind(Object(m.a)(e)),e.actualizarHead=e.actualizarHead.bind(Object(m.a)(e)),e}return Object(l.a)(a,[{key:"iniciar",value:function(){if(this.state.inicio)this.setState({pausa:!0}),this.setState({msPrev:this.state.milisegundos,inicio:null}),clearInterval(this.state.idTimer),clearInterval(this.state.idTimer2);else{this.setState({pausa:!1}),this.setState({inicio:new Date});var e=setInterval(this.contar,10),t=setInterval(this.actualizarHead,333);this.setState({idTimer:e,idTimer2:t,iniciado:!0})}}},{key:"detener",value:function(){clearInterval(this.state.idTimer),document.title="Cron\xf3metro",clearInterval(this.state.idTimer2),this.setState({iniciado:!1,msPrev:0,milisegundos:0,pausa:!0,inicio:null,vueltas:[],msVueltaAnterior:0}),navigator.clearAppBadge()}},{key:"contar",value:function(){var e=new Date,t=this.state.msPrev+ +e-+this.state.inicio;this.setState({milisegundos:t})}},{key:"actualizarHead",value:function(){var e=this.state.milisegundos,t=0;e>=36e5&&(t=e/36e5|0,e%=36e5);var a=e/6e4|0,n=(e%=6e4)/1e3|0;navigator.setAppBadge(n),document.title="".concat(t>0?t+":":"").concat(a>=10?a:"0"+a,":").concat(n>=10?n:"0"+n)}},{key:"vuelta",value:function(){var e=this;this.setState((function(t){return{vueltas:t.vueltas.concat({actual:e.msAHoras(e.state.milisegundos),previo:e.msAHoras(e.state.milisegundos-e.state.msVueltaAnterior)}),msVueltaAnterior:t.milisegundos}}))}},{key:"msAHoras",value:function(e){var t=e,a=0;t>=36e5&&(a=t/36e5|0,t%=36e5);var n=t/6e4|0,i=(t%=6e4)/1e3|0;return{horas:a,ms:t=t%1e3/10|0,segundos:i,minutos:n}}},{key:"space",value:function(e){32!==e.keyCode&&13!==e.keyCode||this.iniciar()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.space,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.space,!1)}},{key:"render",value:function(){return i.a.createElement("div",{className:"central"},i.a.createElement(d,{iniciar:this.iniciar,tiempo:this.msAHoras(this.state.milisegundos),pausa:this.state.pausa,iniciado:this.state.iniciado,vueltas:this.state.vueltas.length}),i.a.createElement(f,{vueltas:this.state.vueltas}),i.a.createElement(v,{detener:this.detener,iniciar:this.iniciar,vuelta:this.vuelta,iniciado:this.state.iniciado,vueltas:this.state.vueltas.length,pausa:this.state.pausa}))}}]),a}(i.a.Component);var y=function(){return i.a.createElement("div",null,i.a.createElement(b,null),i.a.createElement("footer",null,i.a.createElement("a",{href:"https://github.com/KevinGrajeda"},"Kevin Grajeda 2020")))};r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(y,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/cronometro-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/cronometro-app","/service-worker.js");s?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):c(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker.")}))):c(t,e)}))}}()},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.0bfe7df9.chunk.js.map